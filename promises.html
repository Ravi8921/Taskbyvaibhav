const blogs = [];
let lastActivityTime = null;

function create1stBlog() {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            blogs.push({ title: 'BLOG1' });
            resolve();
        }, 3000);
    });
}

function create2ndBlog() {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            blogs.push({ title: 'BLOG2' });
            resolve();
        }, 2000);
    });
}

function deleteBlog() {
    return new Promise((resolve, reject) => {
        if (blogs.length > 0) {
            setTimeout(() => {
                const deletedBlog = blogs.pop();
                resolve(deletedBlog);
            }, 1000);
        } else {
            setTimeout(() => {
                reject(new Error('ERROR'));
            }, 1000);
        }
    });
}

function updateLastUserActivityTime() {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            lastActivityTime = new Date();
            resolve();
        }, 1000);
    });
}

Promise.all([create1stBlog(), create2ndBlog()])
    .then(() => updateLastUserActivityTime())
    .then(() => {
        const posts = blogs.map(blog => blog.title);
        console.log("Posts created:", posts);
        console.log("Last Activity Time:", lastActivityTime);

        return deleteBlog();
    })
    .then(deletedBlog => {
        console.log("Deleted Post:", deletedBlog.title);
        return updateLastUserActivityTime();
    })
    .then(() => {
        const updatedPosts = blogs.map(blog => blog.title);
        console.log("Updated Posts:", updatedPosts);
    })
    .catch(error => {
        console.log(error.message);
    });
